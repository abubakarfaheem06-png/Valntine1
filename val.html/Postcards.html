<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>More Magic âœ¨</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Inter:wght@400;700;900&display=swap" rel="stylesheet">

<style>
:root{
  --pink:#ff4fa3;
  --hot:#ff2f7d;
  --soft:#fff2f8;
  --moon:#ffd6e8;
  --scale: 1;
}

*{box-sizing:border-box}
html,body{margin:0;height:100%}

/* Background + water drift (your image + windy drift) */
body{
  font-family: Inter, system-ui, sans-serif;
  color:var(--soft);
  overflow:hidden;
  display:grid;
  place-items:center;
  position:relative;
  background:#000;
}

body::before{
  content:"";
  position:fixed;
  inset:-10%;
  background-image:url("magic-bg.jpg.jpg"); /* <-- background image */
  background-size:cover;
  background-position:center;
  background-repeat:no-repeat;
  animation: waterDrift 14s linear infinite, waterBreath 6.5s ease-in-out infinite, windWobble 5.2s ease-in-out infinite;
  filter:saturate(1.05) contrast(1.05);
  z-index:-2;
  transform-origin:center;
}
@keyframes waterDrift{
  0%   { background-position: 48% 54%; }
  50%  { background-position: 56% 58%; }
  100% { background-position: 48% 54%; }
}
@keyframes waterBreath{
  0%,100%{ transform: scale(1.02); }
  50%{ transform: scale(1.06); }
}
/* windy animation */
@keyframes windWobble{
  0%,100%{ rotate: -0.35deg; translate: -0.4% -0.2%; }
  50%{ rotate: 0.35deg; translate: 0.4% 0.2%; }
}

body::after{
  content:"";
  position:fixed;
  inset:0;
  background:
    radial-gradient(circle at center, rgba(255,79,163,.18), transparent 58%),
    linear-gradient(180deg, rgba(4,0,6,.65), rgba(16,0,9,.70), rgba(0,0,0,.75));
  z-index:-1;
}

/* Windy overlay streaks */
.wind{
  position:fixed;
  inset:-20%;
  z-index:-1;
  pointer-events:none;
  background:
    repeating-linear-gradient( 15deg,
      rgba(255,255,255,.0) 0 34px,
      rgba(255,255,255,.05) 34px 36px,
      rgba(255,255,255,.0) 36px 70px
    );
  filter: blur(1px);
  opacity:.35;
  animation: windSweep 3.8s ease-in-out infinite;
  transform: translateX(-2%);
}
@keyframes windSweep{
  0%,100%{ transform: translateX(-3%) translateY(-1%); opacity:.22; }
  50%{ transform: translateX(3%) translateY(1%); opacity:.40; }
}

/* App frame scales to viewport */
#app{
  width:1200px;
  height:800px;
  position:relative;
  transform: scale(var(--scale));
  transform-origin:center;
}

/* Stars */
.star{
  position:absolute;
  width:3px;height:3px;
  background:white;
  border-radius:50%;
  box-shadow:0 0 14px white;
  animation: twinkle 3s infinite ease-in-out;
  z-index:0;
}
@keyframes twinkle{50%{opacity:.35}}

/* Moons + Bow */
.moon{
  position:absolute; top:40px;
  width:108px; height:108px; border-radius:50%;
  background:radial-gradient(circle at 30% 30%, #fff, var(--moon));
  box-shadow: 0 0 55px rgba(255,214,232,.95), 0 0 140px rgba(255,79,163,.55);
  animation: moonGlow 4s ease-in-out infinite;
  z-index:1;
}
.moon.left{left:56px}
.moon.right{right:56px}
@keyframes moonGlow{
  50%{ box-shadow: 0 0 85px rgba(255,214,232,1), 0 0 190px rgba(255,79,163,.7); }
}
.bow{
  position:absolute; top:78px; left:50%;
  transform:translateX(-50%);
  font-size:44px;
  filter:drop-shadow(0 0 22px rgba(255,79,163,.85));
  animation:pulse 2.5s ease-in-out infinite;
  z-index:3;
}
@keyframes pulse{50%{transform:translateX(-50%) scale(1.06)}}

/* Blossom trees */
.tree{
  position:absolute;
  top:50%;
  transform:translateY(-50%);
  font-size:92px;
  opacity:.95;
  filter: drop-shadow(0 18px 30px rgba(0,0,0,.55));
  z-index:2;
  pointer-events:none;
}
.tree.left{ left:72px; }
.tree.right{ right:72px; }

/* Side flowers */
.decor{
  position:absolute;
  z-index:2;
  pointer-events:none;
  opacity:.92;
  filter: drop-shadow(0 10px 18px rgba(0,0,0,.45));
}
.decor.flower{
  font-size:30px;
  animation: floaty 4.6s ease-in-out infinite;
}
@keyframes floaty{ 50%{ transform: translateY(-8px) } }

.flowerCol{
  position:absolute;
  top:140px;
  bottom:120px;
  left:22px;
  width:60px;
  display:flex;
  flex-direction:column;
  justify-content:space-between;
  align-items:center;
  z-index:2;
  pointer-events:none;
}
.flowerCol.right{
  left:auto;
  right:22px;
}

/* Sparkles */
.spark{
  position:absolute;
  width:6px;height:6px;
  border-radius:999px;
  pointer-events:none;
  background:rgba(255,214,232,.95);
  box-shadow:0 0 16px rgba(255,214,232,.9), 0 0 28px rgba(255,79,163,.55);
  animation:spark 700ms ease-out forwards;
  z-index:10;
}
@keyframes spark{
  to{opacity:0; transform:translate(-50%,-50%) scale(.12)}
}

/* Flower/Peach/Love rain (windy fall) */
.rain{
  position:absolute;
  font-size:18px;
  pointer-events:none;
  animation: fallWind linear forwards;
  z-index:8;
  will-change: transform, opacity;
  white-space:nowrap;
}
@keyframes fallWind{
  from{ transform: translateY(-25vh) translateX(0); opacity:0; }
  10%{ opacity:1; }
  to{
    transform: translateY(120vh) translateX(var(--drift, 0px));
    opacity:0;
  }
}

/* --------- Title --------- */
.header{
  position:absolute;
  top:140px;
  left:50%;
  transform:translateX(-50%);
  z-index:6;
  text-align:center;
  pointer-events:none;
}
.header h1{
  margin:0;
  font-family: Pacifico, cursive;
  font-size:44px;
  text-shadow:0 18px 50px rgba(0,0,0,.7);
}
.header p{
  margin:6px 0 0;
  font-size:12px;
  letter-spacing:.10em;
  text-transform:uppercase;
  opacity:.82;
}

/* --------- 8 tiny sticky postcards grid --------- */
.stage{
  position:absolute;
  left:50%;
  top:52%;
  transform:translate(-50%,-50%);
  z-index:6;
  width: 1020px;
  height: 500px;
  display:grid;
  grid-template-columns: repeat(4, 1fr);
  grid-template-rows: repeat(2, 1fr);
  gap:14px;
}

/* Sticky note postcard */
.note{
  position:relative;
  border-radius:18px;
  cursor:pointer;
  user-select:none;
  overflow:hidden;

  background:
    linear-gradient(180deg, rgba(255,255,255,.18), rgba(255,255,255,.06)),
    repeating-linear-gradient(45deg, rgba(255,255,255,.03) 0 7px, rgba(0,0,0,0) 7px 14px);
  border:1px solid rgba(255,255,255,.16);
  box-shadow:0 24px 70px rgba(0,0,0,.78);
  transition: transform .18s ease, filter .18s ease, border-color .18s ease;
}
.note:hover{
  transform: translateY(-2px);
  border-color: rgba(255,79,163,.42);
  filter: brightness(1.06);
}

/* little tape */
.note::before{
  content:"";
  position:absolute;
  top:-10px;
  left:50%;
  transform:translateX(-50%) rotate(-2deg);
  width:78px;
  height:26px;
  border-radius:10px;
  background:rgba(255,214,232,.22);
  border:1px solid rgba(255,214,232,.22);
  box-shadow:0 10px 24px rgba(0,0,0,.35);
  z-index:3;
}

.noteInner{
  height:100%;
  display:flex;
  flex-direction:column;
  padding:12px;
  gap:10px;
}

/* image area */
.noteImgWrap{
  position:relative;
  flex: 1 1 auto;
  min-height: 0;
  border-radius:14px;
  overflow:hidden;
  border:1px solid rgba(255,255,255,.16);
  background:rgba(0,0,0,.22);
  transition: flex .22s ease;
}
.note.open .noteImgWrap{
  flex: .62 1 auto;
}

/* image fits postcard perfectly */
.noteImg{
  width:100%;
  height:100%;
  object-fit:cover;
  object-position:center;
  display:block;
  transform:none;
}

/* tiny label */
.noteLabel{
  position:absolute;
  left:12px;
  bottom:12px;
  z-index:2;
  font-family: Pacifico, cursive;
  font-size:16px;
  padding:6px 10px;
  border-radius:999px;
  background:rgba(0,0,0,.35);
  border:1px solid rgba(255,255,255,.14);
  backdrop-filter: blur(8px);
  text-shadow:0 10px 22px rgba(0,0,0,.55);
}

/* hidden text area under image */
.noteText{
  flex: 0 0 auto;
  max-height: 0;
  overflow:hidden;
  opacity:0;
  transform: translateY(-4px);
  transition: max-height .22s ease, opacity .18s ease, transform .22s ease;
  border-radius:14px;
  padding:0 10px;
  text-align:center;
  font-size:12.5px;
  line-height:1.45;
  font-weight:800;
  background:rgba(0,0,0,.30);
  border:1px solid rgba(255,255,255,.12);
  text-shadow:0 2px 10px rgba(0,0,0,.35);
}
.note.open .noteText{
  max-height: 96px;
  opacity:1;
  transform: translateY(0);
  padding:10px;
}

/* Bottom bar */
.bottomBar{
  position:absolute;
  left:50%;
  transform:translateX(-50%);
  bottom:16px;
  z-index:7;
  display:flex;
  gap:12px;
  align-items:center;
}

button{
  padding:14px 22px;
  border-radius:20px;
  border:none;
  cursor:pointer;
  font-size:15px;
  font-weight:900;
  color:white;
  background:linear-gradient(135deg,var(--hot),var(--pink));
  box-shadow:0 18px 55px rgba(0,0,0,.7);
  transition:.15s;
}
button:hover{filter:brightness(1.12); transform: translateY(-2px)}
button:active{transform: translateY(0) scale(.98)}

button.secondary{
  background:rgba(255,255,255,.14);
  border:1px solid rgba(255,255,255,.22);
}

.hint{
  font-size:12px;
  letter-spacing:.08em;
  text-transform:uppercase;
  opacity:.8;
}

/* full-page love overlay text */
.loveOverlay{
  position:absolute;
  inset:0;
  z-index:20;
  display:grid;
  place-items:center;
  pointer-events:none;
  opacity:0;
  transform: scale(.98);
  transition: opacity .18s ease, transform .18s ease;
}
.loveOverlay.show{
  opacity:1;
  transform: scale(1);
}
.loveOverlay .loveText{
  font-family: Pacifico, cursive;
  font-size:86px;
  color: rgba(255,214,232,.98);
  text-shadow:
    0 20px 60px rgba(0,0,0,.75),
    0 0 40px rgba(255,79,163,.55);
  padding:18px 34px;
  border-radius:28px;
  background: rgba(0,0,0,.22);
  border:1px solid rgba(255,255,255,.16);
  backdrop-filter: blur(10px);
}

/* small screen fallback */
@media (max-width: 520px), (max-height: 520px){
  .hint{display:none;}
  .loveOverlay .loveText{font-size:56px;}
}
</style>
</head>

<body>
<div class="wind"></div>

<div id="app">

  <!-- Stars -->
  <script>
  for(let i=0;i<110;i++){
    const s=document.createElement("div");
    s.className="star";
    s.style.left=Math.random()*100+"%";
    s.style.top=Math.random()*70+"%";
    s.style.animationDelay=Math.random()*3+"s";
    document.getElementById("app").appendChild(s);
  }
  </script>

  <!-- Moons + Bow -->
  <div class="moon left"></div>
  <div class="moon right"></div>
  <div class="bow">ğŸ€</div>

  <!-- Trees -->
  <div class="tree left">ğŸŒ¸ğŸŒ³</div>
  <div class="tree right">ğŸŒ¸ğŸŒ³</div>

  <!-- Side flowers -->
  <div class="flowerCol">
    <div class="decor flower">ğŸŒ¸</div>
    <div class="decor flower">ğŸŒ·</div>
    <div class="decor flower">ğŸŒ¹</div>
    <div class="decor flower">ğŸ’</div>
    <div class="decor flower">ğŸŒº</div>
  </div>
  <div class="flowerCol right">
    <div class="decor flower">ğŸŒº</div>
    <div class="decor flower">ğŸ’</div>
    <div class="decor flower">ğŸŒ¹</div>
    <div class="decor flower">ğŸŒ·</div>
    <div class="decor flower">ğŸŒ¸</div>
  </div>

  <!-- Header -->
  <div class="header">
    <h1>My Princess âœ¨</h1>
    <p></p>
  </div>

  <!-- Love overlay -->
  <div class="loveOverlay" id="loveOverlay">
    <div class="loveText">I love u</div>
  </div>

  <!-- 8 Sticky Postcards -->
  <div class="stage" id="stage">

    <!-- IMPORTANT:
         Put these 8 files in the SAME folder as this HTML, with these exact names:
         note.jpg.JPG, note1.jpg.JPG, note2.jpg.JPG, note3.jpg.JPG,
         note6.jpg.JPG, note7.jpg.JPG, note8.jpg.JPG, IMG_4627.JPG
    -->

    <div class="note" data-title="Note 1" data-text="Cute ğŸ’—">
      <div class="noteInner">
        <div class="noteImgWrap">
          <img class="noteImg" src="note.jpg.JPG" alt="Postcard 1">
          <div class="noteLabel">Postcard 1</div>
        </div>
        <div class="noteText"></div>
      </div>
    </div>

    <div class="note" data-title="Note 2" data-text="Charming âœ¨">
      <div class="noteInner">
        <div class="noteImgWrap">
          <img class="noteImg" src="note1.jpg.JPG" alt="Postcard 2">
          <div class="noteLabel">Postcard 2</div>
        </div>
        <div class="noteText"></div>
      </div>
    </div>

    <div class="note" data-title="Note 3" data-text="Princess ğŸŒ·">
      <div class="noteInner">
        <div class="noteImgWrap">
          <img class="noteImg" src="note2.jpg.JPG" alt="Postcard 3">
          <div class="noteLabel">Postcard 3</div>
        </div>
        <div class="noteText"></div>
      </div>
    </div>

    <div class="note" data-title="Note 4" data-text="Fragilistic ğŸŒ¸">
      <div class="noteInner">
        <div class="noteImgWrap">
          <img class="noteImg" src="note3.jpg.JPG" alt="Postcard 4">
          <div class="noteLabel">Postcard 4</div>
        </div>
        <div class="noteText"></div>
      </div>
    </div>

    <div class="note" data-title="Note 5" data-text="Beautiful Smliee ğŸ§¸">
      <div class="noteInner">
        <div class="noteImgWrap">
          <img class="noteImg" src="note6.jpg.JPG" alt="Postcard 5">
          <div class="noteLabel">Postcard 5</div>
        </div>
        <div class="noteText"></div>
      </div>
    </div>

    <div class="note" data-title="Note 6" data-text="Supercalifraglisticexpialidocious ğŸ’«">
      <div class="noteInner">
        <div class="noteImgWrap">
          <img class="noteImg" src="note7.jpg.JPG" alt="Postcard 6">
          <div class="noteLabel">Postcard 6</div>
        </div>
        <div class="noteText"></div>
      </div>
    </div>

    <div class="note" data-title="Note 7" data-text="Demanding ğŸ’">
      <div class="noteInner">
        <div class="noteImgWrap">
          <img class="noteImg" src="note8.jpg.JPG" alt="Postcard 7">
          <div class="noteLabel">Postcard 7</div>
        </div>
        <div class="noteText"></div>
      </div>
    </div>

    <div class="note" data-title="Note 8" data-text="that yellow shirt Superb ğŸ’">
      <div class="noteInner">
        <div class="noteImgWrap">
          <img class="noteImg" src="IMG_4627.JPG" alt="Postcard 8">
          <div class="noteLabel">Postcard 8</div>
        </div>
        <div class="noteText"></div>
      </div>
    </div>

  </div>

  <!-- Bottom bar -->
  <div class="bottomBar">
    <button class="secondary" id="backBtn">Back â†©</button>
    <button id="loveBtn">Final ğŸ’–</button>
    <div class="hint">âœ¨</div>
  </div>

</div>

<script>
/* Auto fit scale */
(function(){
  const BASE_W = 1200, BASE_H = 800;
  function fit(){
    const s = Math.min(innerWidth / BASE_W, innerHeight / BASE_H);
    document.documentElement.style.setProperty("--scale", String(Math.min(1, s)));
  }
  addEventListener("resize", fit);
  fit();
})();

/* Windy rain helpers */
function driftPx(){
  const base = 60 + Math.random()*140;
  const dir = Math.random() < 0.5 ? -1 : 1;
  return (base * dir) + "px";
}

/* Flower rain */
const flowers=["ğŸŒ¸","ğŸŒ·","ğŸŒ¹","ğŸ’","ğŸŒº"];
function flowerRainVW(xVW){
  for(let i=0;i<7;i++){
    const f=document.createElement("div");
    f.className="rain";
    f.textContent=flowers[Math.floor(Math.random()*flowers.length)];
    f.style.left=(typeof xVW === "number" ? xVW : Math.random()*100) + "%";
    f.style.animationDuration=(5+Math.random()*4)+"s";
    f.style.setProperty("--drift", driftPx());
    document.getElementById("app").appendChild(f);
    setTimeout(()=>f.remove(),11000);
  }
}

/* Peach rain ğŸ‘ */
function peachRainVW(xVW){
  for(let i=0;i<6;i++){
    const p=document.createElement("div");
    p.className="rain";
    p.textContent="ğŸ‘";
    p.style.left=(typeof xVW === "number" ? xVW : Math.random()*100) + "%";
    p.style.fontSize=(16 + Math.random()*8) + "px";
    p.style.animationDuration=(4.5+Math.random()*4.5)+"s";
    p.style.setProperty("--drift", driftPx());
    document.getElementById("app").appendChild(p);
    setTimeout(()=>p.remove(),11000);
  }
}

/* Love rain ğŸŒ¸ + "I love u" */
function loveRainVW(xVW){
  for(let i=0;i<10;i++){
    const l=document.createElement("div");
    l.className="rain";
    l.textContent = (Math.random() < 0.5) ? `ğŸŒ¸ I love u` : `I love u ğŸŒ¸`;
    l.style.left=(typeof xVW === "number" ? xVW : Math.random()*100) + "%";
    l.style.fontSize=(14 + Math.random()*10) + "px";
    l.style.fontWeight="900";
    l.style.letterSpacing=".02em";
    l.style.textShadow="0 10px 26px rgba(0,0,0,.65), 0 0 18px rgba(255,79,163,.45)";
    l.style.color="rgba(255,214,232,.98)";
    l.style.animationDuration=(4.2+Math.random()*3.8)+"s";
    l.style.setProperty("--drift", driftPx());
    document.getElementById("app").appendChild(l);
    setTimeout(()=>l.remove(),11000);
  }
}

let rainTimer = setInterval(()=>flowerRainVW(),1600);
let peachTimer = setInterval(()=>peachRainVW(),1900);

document.addEventListener("visibilitychange", ()=>{
  if(document.hidden){
    clearInterval(rainTimer);
    clearInterval(peachTimer);
  } else{
    rainTimer = setInterval(()=>flowerRainVW(),1600);
    peachTimer = setInterval(()=>peachRainVW(),1900);
  }
});

/* Sparkles */
function sparkAt(x,y){
  const app = document.getElementById("app");
  const r = app.getBoundingClientRect();
  const sp=document.createElement("div");
  sp.className="spark";
  sp.style.left=(x - r.left) + "px";
  sp.style.top=(y - r.top) + "px";
  sp.style.transform="translate(-50%,-50%)";
  app.appendChild(sp);
  setTimeout(()=>sp.remove(),720);
}
window.addEventListener("pointerdown",(e)=>{
  sparkAt(e.clientX,e.clientY);
  const vw = (e.clientX / innerWidth) * 100;
  flowerRainVW(vw);
  peachRainVW(vw);
});

/* Notes interaction */
const notes = Array.from(document.querySelectorAll(".note"));
notes.forEach(n=>{
  const txt = n.dataset.text || "";
  const box = n.querySelector(".noteText");
  box.textContent = txt;

  n.addEventListener("click", ()=>{
    notes.forEach(other=>{
      if(other !== n) other.classList.remove("open");
    });
    n.classList.toggle("open");
    flowerRainVW(50);
    peachRainVW(50);
  });
});

/* Back button */
document.getElementById("backBtn").addEventListener("click", ()=>{
  window.location.href = "memories.html";
});

/* FINAL button -> full-page "I love u" + love-rain (flowers + text) */
const loveOverlay = document.getElementById("loveOverlay");
let loveCooldown = false;

document.getElementById("loveBtn").addEventListener("click", ()=>{
  if(loveCooldown) return;
  loveCooldown = true;

  loveOverlay.classList.add("show");

  const bursts = 9;
  let c = 0;
  const burstTimer = setInterval(()=>{
    loveRainVW();
    flowerRainVW();
    c++;
    if(c >= bursts){
      clearInterval(burstTimer);
    }
  }, 260);

  setTimeout(()=>{ loveOverlay.classList.remove("show"); }, 2200);
  setTimeout(()=>{ loveCooldown = false; }, 2600);
});

/* Esc closes any open note */
window.addEventListener("keydown",(e)=>{
  if(e.key==="Escape"){
    notes.forEach(n=>n.classList.remove("open"));
  }
});
</script>

</body>
</html>
